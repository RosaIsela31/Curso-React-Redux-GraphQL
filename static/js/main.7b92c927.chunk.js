(this.webpackJsonptinder=this.webpackJsonptinder||[]).push([[0],{14:function(e,a,t){e.exports={container:"card_container__3G4Fa",card:"card_card__1py-W",name:"card_name__31aE7",actions:"card_actions__31KML",left:"card_left__kmFAA",right:"card_right__ikHyB"}},43:function(e,a,t){e.exports={container:"home_container__2grJ2"}},44:function(e,a,t){e.exports={container:"favs_container__1T6OY"}},45:function(e,a,t){e.exports={container:"login_container__2teO8"}},48:function(e,a,t){e.exports=t(83)},79:function(e,a,t){},80:function(e,a,t){},83:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(19),o=t.n(c),i=t(8),l=t(12),s=t(41),u=t(3),m=t(1),d=t.n(m);t(58),t(60);d.a.initializeApp({apiKey:"AIzaSyCe3Vd9tPFsa9ymyCrfLZebJSJVU8IjTek",authDomain:"reduxreact-3816c.firebaseapp.com",databaseURL:"https://reduxreact-3816c.firebaseio.com",projectId:"reduxreact-3816c",storageBucket:"reduxreact-3816c.appspot.com",messagingSenderId:"165500587660",appId:"1:165500587660:web:48ac591b3714521dbdb5a9",measurementId:"G-LYH9VB6JGC"});var f=d.a.firestore().collection("favs");var h=t(17),g=t(42),p=t.n(g),E={fetching:!1,array:[],current:{},favorites:[]};var v=function(){return function(e,a){return e({type:"GET_FAVS"}),function(e){return f.doc(e).get().then((function(e){return e.data().array}))}(a().user.uid).then((function(a){e({type:"GET_FAVS_SUCCESS",payload:Object(h.a)(a)})})).catch((function(a){console.log(a),e({type:"GET_FAVS_ERROR",payload:a.message})}))}},_={loggedIn:!1,fetching:!1};var O=Object(l.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOG_OUT":return Object(u.a)({},_);case"LOGIN_SUCCESS":return Object(u.a)({},e,{fetching:!1},a.payload,{loggedIn:!0});case"LOGIN_ERROR":return Object(u.a)({},e,{fetching:!1,error:a.payload});case"LOGIN":return Object(u.a)({},e,{fetching:!0});default:return e}},characters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_FAVS_SUCCESS":return Object(u.a)({},e,{fetching:!1,favorites:a.payload});case"GET_FAVS_ERROR":return Object(u.a)({},e,{fetching:!1,error:a.payload});case"GET_FAVS":return Object(u.a)({},e,{fetching:!0});case"ADD_TO_FAVORITES":return Object(u.a)({},e,{},a.payload);case"REMOVE_CHARACTER":return Object(u.a)({},e,{array:a.payload});case"GET_CHARACTERS":return Object(u.a)({},e,{fetching:!0});case"GET_CHARACTERS_ERROR":return Object(u.a)({},e,{fetching:!1,error:a.payload});case"GET_CHARACTERS_SUCCESS":return Object(u.a)({},e,{array:a.payload,fetching:!1});default:return e}}}),y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d;t(79),t(80);var S=t(11),C=t(47),b=t(9),R=t(14),A=t.n(R),j=t(23),T=t.n(j);function N(e){return function(){return console.log(e)}}function I(e){var a=e.name,t=e.image,n=e.rightClick,c=e.leftClick,o=e.hide;return r.a.createElement("div",{className:A.a.container},r.a.createElement("div",{className:A.a.card},r.a.createElement("img",{alt:"rick",src:t}),r.a.createElement("p",{className:A.a.name},a),!o&&r.a.createElement("div",{className:A.a.actions},r.a.createElement("div",{onClick:c||N("left"),className:A.a.left},r.a.createElement(T.a,{name:"thumbs-down",size:"2x"})),r.a.createElement("div",{onClick:n||N("right"),className:A.a.right},r.a.createElement(T.a,{name:"heart",size:"2x"})))))}I.defaultProps={name:"Rick Sanches",image:"https://rickandmortyapi.com/api/character/avatar/1.jpeg"};var G=t(43),k=t.n(G);var L=Object(i.b)((function(e){return{characters:e.characters.array}}),{removeCharacterAction:function(){return function(e,a){var t=a().characters.array;t.shift(),e({type:"REMOVE_CHARACTER",payload:Object(h.a)(t)})}},addToFavoritesAction:function(){return function(e,a){var t=a().characters,n=t.array,r=t.favorites,c=a().user.uid,o=n.shift();r.push(o),function(e,a){f.doc(a).set({array:e})}(r,c),e({type:"ADD_TO_FAVORITES",payload:{array:Object(h.a)(n),favorites:Object(h.a)(r)}})}}})((function(e){var a=e.characters,t=e.removeCharacterAction,n=e.addToFavoritesAction;function c(){n()}function o(){t()}return r.a.createElement("div",{className:k.a.container},r.a.createElement("h2",null,"Personajes de Rick y Morty"),r.a.createElement("div",null,function(){var e=a[0];return r.a.createElement(I,Object.assign({rightClick:c,leftClick:o},e))}()))})),w=t(44),F=t.n(w);var U=Object(i.b)((function(e){return{characters:e.characters.favorites}}))((function(e){var a=e.characters,t=void 0===a?[0]:a;return r.a.createElement("div",{className:F.a.container},r.a.createElement("h2",null,"Favoritos"),t.map((function(e,a){return r.a.createElement(I,Object.assign({hide:!0},e,{key:a}))})),!t.length&&r.a.createElement("h3",null,"No hay personajes agregados"))})),V=t(45),x=t.n(V);var H=Object(i.b)((function(e){var a=e.user;return{fetching:a.fetching,loggedIn:a.loggedIn}}),{doGoogleLoginAction:function(){return function(e,a){return e({type:"LOGIN"}),function(){var e=new d.a.auth.GoogleAuthProvider;return d.a.auth().signInWithPopup(e).then((function(e){return e.user}))}().then((function(t){var n;e({type:"LOGIN_SUCCESS",payload:{uid:t.uid,displayName:t.displayName,email:t.email,photoURL:t.photoURL}}),n=a(),localStorage.storage=JSON.stringify(n),v()(e,a)})).catch((function(a){console.log(a),e({type:"LOGIN_ERROR",payload:a.message})}))}},logOutAction:function(){return function(e,a){d.a.auth().signOut(),e({type:"LOG_OUT"}),localStorage.removeItem("storage")}}})((function(e){var a=e.loggedIn,t=e.fetching,n=e.doGoogleLoginAction,c=e.logOutAction;return t?r.a.createElement("h1",null,"Cargando..."):r.a.createElement("div",{className:x.a.container},a?r.a.createElement("h1",null,"Cierra tu sesi\xf3n"):r.a.createElement("h1",null,"Inicia Sesi\xf3n con Google"),a?r.a.createElement("button",{onClick:function(){c()}},"Cerrar Sesi\xf3n"):r.a.createElement("button",{onClick:function(){n()}},"Iniciar"))})),J=function(e){var a=e.path,t=e.component,n=Object(C.a)(e,["path","component"]),c=localStorage.getItem("storage");return(c=JSON.parse(c))&&c.user?r.a.createElement(b.b,Object.assign({path:a,component:t},n)):r.a.createElement(b.a,Object.assign({to:"/login"},n))};function D(){return r.a.createElement(b.d,null,r.a.createElement(J,{exact:!0,path:"/",component:L}),r.a.createElement(J,{path:"/favs",component:U}),r.a.createElement(b.b,{path:"/login",component:H}))}var P=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"nav-bar"},r.a.createElement(S.b,{className:"link",activeClassName:"active",exact:!0,to:"/"},"Inicio"),r.a.createElement(S.b,{className:"link",activeClassName:"active",to:"/favs"},"Favoritos"),r.a.createElement(S.b,{className:"link",activeClassName:"active",to:"/login"},"Login")),r.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(82);var B=function(){var e,a=Object(l.e)(O,y(Object(l.a)(s.a)));return e=a.dispatch,a.getState,e({type:"GET_CHARACTERS"}),p.a.get("https://rickandmortyapi.com/api/character").then((function(a){e({type:"GET_CHARACTERS_SUCCESS",payload:a.data.results})})).catch((function(a){console.log(a),e({type:"GET_CHARACTERS_ERROR",payload:a.response.message})})),function(e){var a=localStorage.getItem("storage");(a=JSON.parse(a))&&a.user&&e({type:"LOGIN_SUCCESS",payload:a.user})}(a.dispatch),a}(),M=function(){return r.a.createElement(S.a,null,r.a.createElement(P,null))},z=function(){return r.a.createElement(i.a,{store:B},r.a.createElement(M,null))};o.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[48,1,2]]]);
//# sourceMappingURL=main.7b92c927.chunk.js.map